// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import{primitives as t}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number-array@esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-typed-array-like@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-array@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/stats-base-dists-f-cdf@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-copy@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@esm/index.mjs";import{isPrimitive as m}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nan@esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/stats-incr-stdev@esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-roundn@esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/string-repeat@esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-max@esm/index.mjs";import{isPrimitive as c}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@esm/index.mjs";var u={alpha:.05};function v(t,e){if(!l(e))return new TypeError(i("0Rj2h",e));if(n(e,"alpha")){if(t.alpha=e.alpha,!m(t.alpha)||d(t.alpha))return new TypeError(i("0Rj8h","alpha",t.alpha));if(t.alpha<0||t.alpha>1)return new RangeError(i("invalid option. `%s` option must be a number on the interval: [0, 1]. Option: `%f`.","alpha",t.alpha))}return null}var b={numeric:!0};function w(t,e){return String(t).localeCompare(String(e),void 0,b)}function y(t){var e,r,s,n,i;for(e=(r=Array.prototype.slice.call(t)).length,r.sort(w),n=1,i=0;n<e;n++)s=r[n],r[i]!==s&&(r[i+=1]=s);return r.length=i+1,r}function x(t,e,r){var s,n,i,a,o,l,m;for(n=r.length,s={},o=0;o<n;o++)for(i=h(),s[r[o]]={mean:0,sampleSize:0,SD:i},l=0;l<t.length;l++)e[l]===r[o]&&(s[r[o]].SD=i(t[l]));for(l=0;l<t.length;l++)s[e[l]].mean+=t[l],s[e[l]].sampleSize+=1;for(m=0;m<n;m++)a=s[r[m]].mean/s[r[m]].sampleSize,s[r[m]].mean=a;return s}function S(t){var e,r,s;for(r=0,e=t.length,s=0;s<e;s++)r+=(t[s]-r)/(s+1);return r}function R(t){return t<=0?"":j(" ",t)}function E(t){return function(e){var r,s,a,o,m,d,h,j,u,v,b,w,y,x;if(y=4,s=!0,arguments.length>0){if(!l(e))throw new TypeError(i("0Rj3X",e));if(n(e,"digits")){if(!p(e.digits))throw new TypeError(i("0Rj3b","digits",e.digits));y=e.digits}if(n(e,"decision")){if(!c(e.decision))throw new TypeError(i("0Rj30","decision",e.decision));s=e.decision}}w=-y,x="",x+=t.method,x+="\n\n",x+="Null Hypothesis: All Means Equal",x+="\n",x+="Alternate Hypothesis: At Least one Mean not Equal",x+="\n\n",m=g(t.treatment.ss,w).toString(),b=g(t.error.ss,w).toString(),a=g(t.treatment.ms,w).toString(),u=g(t.error.ms,w).toString(),o=t.treatment.df.toString(),v=t.error.df.toString(),r=g(t.statistic,w).toString(),d=f(f(o.length,v.length),2),h=f(f(m.length,b.length),2),j=f(f(a.length,u.length),3),x+="              ",x+="df",x+=R(1+d),x+="SS",x+=R(2+h),x+="MS",x+=R(1+j),x+="F Score",x+=R(f(7,r.length)-7+2),x+="P Value",x+="\n",x+="Treatment",x+=R(5),x+=t.treatment.df,x+=R(3+d-o.length),x+=m,x+=R(4+h-m.length),x+=a,x+=R(3+j-a.length),x+=r,x+=R(f(7,r.length)-r.length+2),x+=g(t.pValue,w),x+="\n",x+="Errors",x+="        ",x+=t.error.df,x+=R(3+d-v.length),x+=b,x+=R(4+h-b.length),x+=u,s&&(x+="\n\n",t.rejected?(x+="Reject Null: ",x+=g(t.pValue,w),x+=" <= ",x+=t.alpha):(x+="Fail to Reject Null: ",x+=g(t.pValue,w),x+=" >= ",x+=t.alpha));return x}}function T(l,m,d){var h,p,g,j,f,c,b,w,R,T,A,V,z,N,F,M,O,q,D,H;if(!e(l)&&!t(l))throw new TypeError(i("0Rj8j",l));if(M=o(u),arguments.length>2&&(O=v(M,d)))throw O;if((N=l.length)<=1)throw new RangeError(i("0RjAn",l));if(!r(m))throw new TypeError(i("0Rj8l",T));if((w=(T=y(m)).length)<=1)throw new RangeError(i("0Rj8m",T));if(N!==m.length)throw new RangeError("invalid arguments. First and second arguments must be arrays having the same length.");for(j=0,g=0,A=x(l,m,T),b=S(l),H=0;H<N;H++)j+=D=(l[H]-b)*(l[H]-b);for(c in D=0,A)n(A,c)&&(D=(A[c].mean-b)*(A[c].mean-b),g+=A[c].sampleSize*D);return F=1-a(R=(h=g/(V=w-1))/(p=(f=j-g)/(z=N-w)),V,z),q={},s(c={},"df",V),s(c,"ss",g),s(c,"ms",h),s(q,"treatment",c),s(O={},"df",z),s(O,"ss",f),s(O,"ms",p),s(q,"error",O),s(q,"statistic",R),s(q,"pValue",F),s(q,"means",A),s(q,"method","One-Way ANOVA"),s(q,"alpha",M.alpha),s(q,"rejected",F<=M.alpha),s(q,"print",E(q)),q}export{T as default};
//# sourceMappingURL=index.mjs.map
