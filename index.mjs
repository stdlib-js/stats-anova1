// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import{primitives as t}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number-array@v0.0.8-esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-typed-array-like@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-array@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.0.2-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/stats-base-dists-f-cdf@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@esm/index.mjs";import{isPrimitive as l}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nan@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/stats-incr-stdev@esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-roundn@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/string-repeat@esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-max@esm/index.mjs";import{isPrimitive as f}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@esm/index.mjs";function c(t,e){if(!o(e))return new TypeError(i("0Rj2h",e));if(s(e,"alpha")){if(t.alpha=e.alpha,!l(t.alpha)||m(t.alpha))return new TypeError(i("0Rj8h","alpha",t.alpha));if(t.alpha<0||t.alpha>1)return new RangeError(i("invalid option. `%s` option must be a number on the interval: [0, 1]. Option: `%f`.","alpha",t.alpha))}return null}var u={numeric:!0};function v(t,e){return String(t).localeCompare(String(e),void 0,u)}function b(t){var e,r,n,s,i;for(e=(r=Array.prototype.slice.call(t)).length,r.sort(v),s=1,i=0;s<e;s++)n=r[s],r[i]!==n&&(r[i+=1]=n);return r.length=i+1,r}function w(t,e,r){var n,s,i,a,o,l,m;for(s=r.length,n={},o=0;o<s;o++)for(i=d(),n[r[o]]={mean:0,sampleSize:0,SD:i},l=0;l<t.length;l++)e[l]===r[o]&&(n[r[o]].SD=i(t[l]));for(l=0;l<t.length;l++)n[e[l]].mean+=t[l],n[e[l]].sampleSize+=1;for(m=0;m<s;m++)a=n[r[m]].mean/n[r[m]].sampleSize,n[r[m]].mean=a;return n}function y(t){var e,r,n;for(r=0,e=t.length,n=0;n<e;n++)r+=(t[n]-r)/(n+1);return r}function S(t){return t<=0?"":g(" ",t)}function x(t){return function(e){var r,n,a,l,m,d,g,c,u,v,b,w,y,x;if(y=4,n=!0,arguments.length>0){if(!o(e))throw new TypeError(i("0Rj3X",e));if(s(e,"digits")){if(!h(e.digits))throw new TypeError(i("0Rj3b","digits",e.digits));y=e.digits}if(s(e,"decision")){if(!f(e.decision))throw new TypeError(i("0Rj30","decision",e.decision));n=e.decision}}w=-y,x="",x+=t.method,x+="\n\n",x+="Null Hypothesis: All Means Equal",x+="\n",x+="Alternate Hypothesis: At Least one Mean not Equal",x+="\n\n",m=p(t.treatment.ss,w).toString(),b=p(t.error.ss,w).toString(),a=p(t.treatment.ms,w).toString(),u=p(t.error.ms,w).toString(),l=t.treatment.df.toString(),v=t.error.df.toString(),r=p(t.statistic,w).toString(),d=j(j(l.length,v.length),2),g=j(j(m.length,b.length),2),c=j(j(a.length,u.length),3),x+="              ",x+="df",x+=S(1+d),x+="SS",x+=S(2+g),x+="MS",x+=S(1+c),x+="F Score",x+=S(j(7,r.length)-7+2),x+="P Value",x+="\n",x+="Treatment",x+=S(5),x+=t.treatment.df,x+=S(3+d-l.length),x+=m,x+=S(4+g-m.length),x+=a,x+=S(3+c-a.length),x+=r,x+=S(j(7,r.length)-r.length+2),x+=p(t.pValue,w),x+="\n",x+="Errors",x+="        ",x+=t.error.df,x+=S(3+d-v.length),x+=b,x+=S(4+g-b.length),x+=u,n&&(x+="\n\n",t.rejected?(x+="Reject Null: ",x+=p(t.pValue,w),x+=" <= ",x+=t.alpha):(x+="Fail to Reject Null: ",x+=p(t.pValue,w),x+=" >= ",x+=t.alpha));return x}}function R(o,l,m){var d,h,p,g,j,f,u,v,S,R,E,T,A,V,z,N,F,M,O,q;if(!e(o)&&!t(o))throw new TypeError(i("0Rj8j",o));if(N={alpha:.05},arguments.length>2&&(F=c(N,m)))throw F;if((V=o.length)<=1)throw new RangeError(i("0RjAn",o));if(!r(l))throw new TypeError(i("0Rj8l",R));if((v=(R=b(l)).length)<=1)throw new RangeError(i("0Rj8m",R));if(V!==l.length)throw new RangeError("invalid arguments. First and second arguments must be arrays having the same length.");for(g=0,p=0,E=w(o,l,R),u=y(o),q=0;q<V;q++)g+=O=(o[q]-u)*(o[q]-u);for(f in O=0,E)s(E,f)&&(O=(E[f].mean-u)*(E[f].mean-u),p+=E[f].sampleSize*O);return z=1-a(S=(d=p/(T=v-1))/(h=(j=g-p)/(A=V-v)),T,A),M={},n(f={},"df",T),n(f,"ss",p),n(f,"ms",d),n(M,"treatment",f),n(F={},"df",A),n(F,"ss",j),n(F,"ms",h),n(M,"error",F),n(M,"statistic",S),n(M,"pValue",z),n(M,"means",E),n(M,"method","One-Way ANOVA"),n(M,"alpha",N.alpha),n(M,"rejected",z<=N.alpha),n(M,"print",x(M)),M}export{R as default};
//# sourceMappingURL=index.mjs.map
